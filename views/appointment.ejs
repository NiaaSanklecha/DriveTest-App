<html lang="en">
  <%- include('layouts/header'); -%>
  <body>
    <!-- Spinner Start -->
    <div
      id="spinner"
      class="bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center"
    >
      <div class="spinner-grow text-primary" role="status"></div>
    </div>
    <!-- Spinner End -->

    <!-- Topbar Start -->
    <%- include('layouts/toolbar'); -%>
    <!-- Topbar End -->

    <!-- Navbar Start -->
    <%- include('layouts/navbar'); -%>
    <!-- Navbar End -->

    <!-- Page Header Start -->
    <div
      class="container-fluid page-header py-6 my-6 mt-0 wow fadeIn"
      data-wow-delay="0.1s"
      style="visibility: visible; animation-delay: 0.1s; animation-name: fadeIn"
    >
      <div class="container text-center">
        <h1 class="display-4 text-white slideInDown mb-4">Appointment</h1>
      </div>
    </div>
    <!-- Page Header End -->

    <!-- Courses Start -->
    <div class="container-xxl py-6">
      <div class="container">
        <div
          class="text-center mx-auto mb-5 wow fadeInUp"
          data-wow-delay="0.1s"
          style="
            max-width: 500px;
            visibility: visible;
            animation-delay: 0.1s;
            animation-name: fadeInUp;
          "
        >
          <h6 class="text-primary text-uppercase mb-2">Tranding Courses</h6>
          <h1 class="display-6 mb-4">
            Our Courses Upskill You With Driving Training
          </h1>
        </div>
        <div class="row g-5 justify-content-center">
          <div class="col-lg-5 wow fadeInUp" data-wow-delay="0.5s">
            <form action="/new/appointment" method="post">
              <div class="row g-3">
                <div class="col-sm-12">
                  <h6>Choose Date</h6>
                  <div class="form-floating">
                    <input
                      type="date"
                      class="form-control border-0 bg-light"
                      id="date"
                      name="date"
                      min="<%= minDate%>"
                      placeholder="Date"
                      value="<%= date%>"
                      onchange="showTimeSlots(this);"
                    />
                    <label for="date">Date</label>
                    <script>
                      function showTimeSlots(d) {
                        window.location =
                          "/appointment/" + d.value + "#dateEntered";
                      }
                    </script>
                  </div>
                </div>

                <% if(timeArray !== null ){ %>
                <div class="col-sm-12">
                  <h6>Available Time Slots</h6>
                  <div
                    class="btn-group"
                    role="group"
                    data-toggle="buttons"
                    id="timeButtons"
                  >
                    <% for(var i = 0; i< timeArray.length; i++){ %>
                    <input
                      type="radio"
                      class="btn-check"
                      name="time"
                      id="<%= timeArray[i] %>"
                      value="<%= timeArray[i] %>"
                    />
                    <label
                      class="btn btn-outline-primary"
                      for="<%= timeArray[i] %>"
                      ><%= timeArray[i] %></label
                    >

                    <% }%>
                  </div>
                </div>
                <div class="col-12">
                  <button class="btn btn-primary w-100 py-3" type="submit">
                    Add Appointment
                  </button>
                </div>
                <% } else { %>

                <p>No available slots.</p>

                <%} %>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <!-- Courses End -->

    <!-- Footer Start -->
    <%- include('layouts/footer'); -%>
    <!-- Footer End -->

    <!-- Copyright Start -->
    <%- include('layouts/copyright'); -%>

    <!-- Copyright End -->

    <!-- Back to Top -->
    <a
      href="#"
      class="btn btn-lg btn-primary btn-lg-square back-to-top"
      style="display: none"
      ><i class="bi bi-arrow-up"></i
    ></a>

    <!-- JavaScript Libraries -->
    <%- include('layouts/scripts'); -%>
  </body>
</html>
